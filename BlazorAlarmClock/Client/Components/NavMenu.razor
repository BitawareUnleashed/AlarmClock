@using Microsoft.AspNetCore.Components.Forms;
@inject IJSRuntime JsRuntime
@inject HttpClient Http

<div class="@NavMenuCssClass">
    <div class="mt-12">
        <MudNavMenu>
            <MudNavLink Href="/" Icon="@Icons.Material.Filled.Home">Home</MudNavLink>
            @*<MudNavLink Icon="@Icons.Material.Filled.AccessAlarm" OnClick="TogglePopover">New Alarm</MudNavLink>*@
            <MudNavLink Icon="@Icons.Material.Filled.AccessAlarm" OnClick="TogglePopover">New Alarm</MudNavLink>
            @*<MudNavLink Href="/managemusic" Icon="@Icons.Material.Filled.MusicVideo">Manage music</MudNavLink>*@
            <MudFileUpload T="IBrowserFile" Accept=".mp3" FilesChanged="UploadFiles2" MaximumFileCount="100">
                <ButtonTemplate>
                    <MudButton HtmlTag="label"
                               Variant="Variant.Filled"
                               Color="Color.Primary"
                               StartIcon="@Icons.Material.Filled.CloudUpload"
                               for="@context">
                        Only .pdf files
                    </MudButton>
                </ButtonTemplate>
            </MudFileUpload>
        </MudNavMenu>
    </div>
</div>


@code
{
    IList<IBrowserFile> files = new List<IBrowserFile>();

    private async void UploadFiles2(IBrowserFile file)
    {
        files.Add(file);
        //TODO upload the files to the server

        if (file != null)
        {
            var ms = new MemoryStream();
            await file.OpenReadStream().CopyToAsync(ms);
            var fileBytes = ms.ToArray();
            var filePath = "wwwroot-audio";
            var url = $"api/upload/{filePath}/{file.Name}";

            var response = await Http.PostAsJsonAsync(url, fileBytes);

            if (!response.IsSuccessStatusCode)
            {
                // Handle error
            }
        }
    }
}
Form Validation